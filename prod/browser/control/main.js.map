{"version":3,"sources":["webpack:///webpack/bootstrap 2f2d394ad98cdec1d84a","webpack:///./dev/browser/LoadJs.ts","webpack:///./dev/browser/locationInfo.ts","webpack:///./dev/browser/control/managePlayers.ts","webpack:///./dev/browser/control/socketControlApp.ts","webpack:///./dev/browser/control/controlTemplate.ts","webpack:///./dev/browser/control/main.ts","webpack:///./dev/browser/control/socketRulesButtonEmit.ts","webpack:///./dev/general-data/jsonData.ts"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AChEA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;ACdA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;ACTA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,oBAAoB;AAC/C;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;ACvDA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;;;;;;;;;;;ACzCA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;ACdA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;ACZD;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iCAAiC;AACxD;AACA,2BAA2B,wBAAwB;AACnD;AACA;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;ACrCA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS,6CAA6C;AACtD,SAAS,4CAA4C;AACrD,SAAS,+CAA+C;AACxD,SAAS,+CAA+C;AACxD;AACA;AACA,SAAS,kaAAka;AAC3a,SAAS,uNAAuN;AAChO,SAAS,uNAAuN;AAChO,SAAS,2IAA2I;AACpJ,SAAS,2IAA2I;AACpJ;AACA;AACA,SAAS,uEAAuE;AAChF,SAAS,uEAAuE;AAChF,SAAS,wEAAwE;AACjF,SAAS,wEAAwE;AACjF,SAAS,uEAAuE;AAChF,SAAS,uEAAuE;AAChF,SAAS,6EAA6E;AACtF,SAAS,6EAA6E;AACtF,SAAS,4GAA4G;AACrH,SAAS,4GAA4G;AACrH,SAAS,iEAAiE;AAC1E,SAAS,iEAAiE;AAC1E,SAAS,uDAAuD;AAChE,SAAS,2DAA2D;AACpE,SAAS,sDAAsD;AAC/D;AACA;AACA,SAAS,yDAAyD;AAClE,SAAS,uDAAuD;AAChE,SAAS,yDAAyD;AAClE,SAAS,0EAA0E;AACnF,SAAS,8FAA8F;AACvG,SAAS,yFAAyF;AAClG,SAAS,gEAAgE;AACzE;AACA;AACA","file":"./control/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2f2d394ad98cdec1d84a","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LoadJs = (function () {\n    function LoadJs() {\n    }\n    LoadJs.load = function (file) {\n        var jsElement = document.createElement(\"script\");\n        jsElement.type = \"text/javascript\";\n        jsElement.src = file;\n        document.body.appendChild(jsElement);\n        return jsElement;\n    };\n    return LoadJs;\n}());\nexports.default = LoadJs;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./dev/browser/LoadJs.ts\n// module id = 0\n// module chunks = 0 1","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LocationInfo = (function () {\n    function LocationInfo(urlToParse) {\n        this.parse = document.createElement(\"a\");\n        this.parse.href = urlToParse;\n    }\n    return LocationInfo;\n}());\nexports.default = LocationInfo;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./dev/browser/locationInfo.ts\n// module id = 1\n// module chunks = 0 1","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ManagePlayers = (function () {\n    function ManagePlayers() {\n    }\n    ManagePlayers.run = function (selectedPlayers) {\n        var nbPlayers = 6;\n        setup();\n        function setup() {\n            addPlayersToInterface(nbPlayers);\n        }\n        function removePlayer(playerToRemove, playerId) {\n            console.log(\"removeplayer\");\n            playerToRemove.classList.remove('playerSelected');\n            playerToRemove.removeAttribute('style');\n            var id = selectedPlayers.indexOf(playerId);\n            selectedPlayers.splice(id, 1);\n        }\n        function addPlayers(e) {\n            console.log(e.target.className);\n            var list = e.target.className;\n            var lastCharacter = e.target.textContent.length;\n            var selectedPlayer = parseInt(e.target.textContent[lastCharacter - 1]);\n            if (list.indexOf('playerSelected') !== -1) {\n                console.log('deja');\n                removePlayer(e.target, selectedPlayer);\n                return;\n            }\n            console.log(e.target.textContent.length);\n            var player = e.target;\n            player.className += \" playerSelected\";\n            player.style.backgroundColor = \"#0ff\";\n            selectedPlayers.push(selectedPlayer);\n            console.log(selectedPlayers);\n        }\n        function addPlayersToInterface(nbPlayers) {\n            console.log(\"addplayers\");\n            var playerSection = document.getElementById('players');\n            var boxPlayers = document.createElement('div');\n            boxPlayers.setAttribute('id', 'boxplayers');\n            playerSection.appendChild(boxPlayers);\n            for (var i = 1; i < nbPlayers + 1; i++) {\n                var aPlayer = document.createElement(\"p\");\n                aPlayer.setAttribute(\"class\", \"aPlayer\" + \" aPlayer-\" + i);\n                aPlayer.textContent = \"Joueur \" + i;\n                boxPlayers.appendChild(aPlayer);\n            }\n            var players = document.getElementsByClassName('aPlayer');\n            for (var j = 0; j < players.length; j++) {\n                players[j].addEventListener('click', addPlayers);\n            }\n        }\n    };\n    return ManagePlayers;\n}());\nexports.default = ManagePlayers;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./dev/browser/control/managePlayers.ts\n// module id = 3\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar socketRulesButtonEmit_1 = require(\"./socketRulesButtonEmit\");\nvar controlTemplate_1 = require(\"./controlTemplate\");\nvar socketControlApp = (function () {\n    function socketControlApp() {\n    }\n    socketControlApp.run = function (selectedPlayers, currentHostname) {\n        var socket = io.connect(\"http://\" + currentHostname + \":1337\");\n        socket.on(\"connect\", function () {\n            console.log(\"socket control connected\");\n            socket.emit('control-connected', {\n                name: \"control\"\n            });\n        });\n        var controlTemplate = new controlTemplate_1.default(document.querySelector(\"#players-status\"));\n        console.log(controlTemplate);\n        socket.on(\"init-control-players-status\", function (data) {\n            console.log(data);\n            var dataToSend = {\n                players: [],\n            };\n            for (var key in data.player) {\n                var mustashPatern = {\n                    \"range\": data.player[key].data.index,\n                    \"ip\": data.player[key].ipValue,\n                    \"current-rule\": data.player[key].data.rules,\n                    \"status\": data.player[key].data.status,\n                };\n                dataToSend.players.push(mustashPatern);\n            }\n            console.log(dataToSend);\n            controlTemplate.render(dataToSend);\n        });\n        socketRulesButtonEmit_1.default.run(socket, selectedPlayers);\n        socket.on(\"player-responses\", function (data) {\n            document.querySelector(\".user-response\").innerHTML = data;\n        });\n    };\n    return socketControlApp;\n}());\nexports.default = socketControlApp;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./dev/browser/control/socketControlApp.ts\n// module id = 4\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ControlTemplate = (function () {\n    function ControlTemplate(element) {\n        this.playerTemplate = element.innerHTML;\n        this.element = element;\n    }\n    ControlTemplate.prototype.render = function (data) {\n        var renderStatus = Mustache.render(this.playerTemplate, data);\n        this.element.innerHTML = renderStatus;\n        console.log(renderStatus);\n    };\n    return ControlTemplate;\n}());\nexports.default = ControlTemplate;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./dev/browser/control/controlTemplate.ts\n// module id = 8\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar socketControlApp_1 = require(\"./socketControlApp\");\nvar managePlayers_1 = require(\"./managePlayers\");\nvar LoadJs_1 = require(\"../LoadJs\");\nvar locationInfo_1 = require(\"../locationInfo\");\nvar selectedPlayers = [];\nvar locationInfo = new locationInfo_1.default(window.location.href);\nvar currentHostname = locationInfo.parse.hostname;\nLoadJs_1.default.load(\"http://\" + currentHostname + \":1337/socket.io/socket.io.js\").addEventListener(\"load\", function () {\n    socketControlApp_1.default.run(selectedPlayers, currentHostname);\n    managePlayers_1.default.run(selectedPlayers);\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./dev/browser/control/main.ts\n// module id = 9\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar jsonData_1 = require(\"../../general-data/jsonData\");\nvar SocketRulesButtonEmit = (function () {\n    function SocketRulesButtonEmit() {\n    }\n    SocketRulesButtonEmit.run = function (socket, selectedPlayers) {\n        var _this = this;\n        var controls = document.querySelector(\"#controls\").innerHTML;\n        document.querySelector(\"#controls\").innerHTML = Mustache.render(controls, jsonData_1.default.rulesAndButtons);\n        var controlSubCategories = document.querySelectorAll(\"#controls div\");\n        for (var i = 0; i < controlSubCategories.length; i++) {\n            var buttonChild = controlSubCategories[i].querySelectorAll(\".data-button\");\n            for (var j = 0; j < buttonChild.length; j++) {\n                buttonChild[j].setAttribute(\"data-index\", j.toString());\n            }\n        }\n        var buttons = document.querySelectorAll(\".data-button\");\n        for (var i = 0; i < buttons.length; i++) {\n            buttons[i].addEventListener(\"click\", function (e) {\n                _this.sendProposition(e, socket, selectedPlayers);\n            });\n        }\n    };\n    SocketRulesButtonEmit.sendProposition = function (e, socket, selectedPlayers) {\n        console.log(selectedPlayers);\n        console.log(e.target);\n        var data = {\n            rules: e.target.textContent,\n            selectedPlayers: selectedPlayers,\n            category: e.target.getAttribute(\"data-array\"),\n            indexCategory: e.target.getAttribute(\"data-index\"),\n        };\n        socket.emit('control-directive', data);\n    };\n    return SocketRulesButtonEmit;\n}());\nexports.default = SocketRulesButtonEmit;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./dev/browser/control/socketRulesButtonEmit.ts\n// module id = 10\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar JsonData = (function () {\n    function JsonData() {\n    }\n    return JsonData;\n}());\nJsonData.rulesAndButtons = {\n    loisJ1: [\n        { text: \"Je te propose trois lois de Gauche\",\n            buttons: [\n                \"Proposer deux lois de gauche\",\n            ]\n        },\n        { text: \"Je te propose deux lois de Gauche et une loi de Droite\",\n            buttons: [\n                \"Proposer deux lois de gauche\",\n                \"Proposer une loi de gauche et une loi de droite\"\n            ]\n        },\n        { text: \"Je te propose une loi Gauche et deux lois de Droite\",\n            buttons: [\n                \"Proposer deux lois de droite\",\n                \"Proposer une loi de gauche et une loi de droite\"\n            ]\n        },\n        { text: \"Je te propose trois lois de Droite\",\n            buttons: [\n                \"Proposer deux lois de droite\",\n            ]\n        },\n    ],\n    loisJ2: [\n        { text: \"L'autre joueur te propose deux lois de Gauche\",\n            buttons: [\n                \"Valider une loi de gauche\",\n            ]\n        },\n        { text: \"L'autre joueur te propose une loi de Gauche et une loi de Droite\",\n            buttons: [\n                \"Valider une loi de gauche\",\n                \"Valider une loi de droite\",\n            ]\n        },\n        { text: \"L'autre joueur te propose deux lois de Droite\",\n            buttons: [\n                \"Valider une loi de droite\",\n            ]\n        },\n    ],\n    annonces: [\n        { text: \"Une loi vient d'être votée. Vous pouvez maintenant la valider ou la rejeter. Souhaitez-vous la valider ?\",\n            buttons: [\n                \"oui\",\n                \"non\"\n            ]\n        },\n        { text: \"La loi a été acceptée\", buttons: [] },\n        { text: \"La loi a été refusée\", buttons: [] },\n        { text: \"C'est une loi de Gauche\", buttons: [] },\n        { text: \"C'est une loi de Droite\", buttons: [] },\n    ],\n    narration: [\n        { text: \"Bienvenue dans le jeu. Vous allez devoir voter assez de lois pour faire gagner votre parti. Vous serez amené à évincer des joueurs au cours de la partie. Méfiez-vous, une fois éliminés, ces joueurs peuvent donner leur droit de vote à un joueur restant. Attention, deux cyborgs se sont glissés dans chaque équipe, leur but est de prendre le pouvoir en obtenant le droit de vote le plus puissant.\", buttons: [] },\n        { text: \"Vous appartenez au Parti de Gauche. Votre but est de faire passer 5 lois de gauche ou d'éliminer tous les membres du parti de Droite. Attention, les cyborgs ne doivent pas prendre le pouvoir.\", buttons: [] },\n        { text: \"Vous appartenez au Parti de Droite. Votre but est de faire passer 5 lois de droite ou d'éliminer tous les membres du parti de Gauche. Attention, les cyborgs ne doivent pas prendre le pouvoir.\", buttons: [] },\n        { text: \"Vous appartenez au Parti de Gauche. Vous êtes un cyborg. Votre but est d'obtenir le droit de vote le plus puissant.\", buttons: [] },\n        { text: \"Vous appartenez au Parti de Droite. Vous êtes un cyborg. Votre but est d'obtenir le droit de vote le plus puissant.\", buttons: [] },\n    ],\n    cyborg: [\n        { text: \"La loi qui vient d'être refusée était de Gauche\", buttons: [] },\n        { text: \"La loi qui vient d'être refusée était de Droite\", buttons: [] },\n        { text: \"Trois membres du parti de gauche son côte à côte\", buttons: [] },\n        { text: \"Trois membres du parti de droite son côte à côte\", buttons: [] },\n        { text: \"Deux membres du parti de gauche son face à face\", buttons: [] },\n        { text: \"Deux membres du parti de droite son face à face\", buttons: [] },\n        { text: \"La personne qui vient d'être éliminée était de Droite\", buttons: [] },\n        { text: \"La personne qui vient d'être éliminée était de Gauche\", buttons: [] },\n        { text: \"La personne qui vient d'être éliminée a donné sa voix à un membre du parti de Gauche\", buttons: [] },\n        { text: \"La personne qui vient d'être éliminée a donné sa voix à un membre du parti de Droite\", buttons: [] },\n        { text: \"Il reste trois membres du parti de Gauche\", buttons: [] },\n        { text: \"Il reste trois membres du parti de Droite\", buttons: [] },\n        { text: \"Le cyborg adverse a été éliminé\", buttons: [] },\n        { text: \"Le cyborg adverse a plus d'une voix\", buttons: [] },\n        { text: \"Tu es proche de l'autre cyborg\", buttons: [] },\n    ],\n    humain: [\n        { text: \"Il fait beau dehors ?\", buttons: [\"oui\", \"non\"] },\n        { text: \"tous se passe bien?\", buttons: [\"oui\", \"non\"] },\n        { text: \"Il fait beau dehors ?\", buttons: [\"oui\", \"non\"] },\n        { text: \"Votre parti est en minorité, il faudrait se remuer\", buttons: [] },\n        { text: \"Votre parti est en minorité, mais vous avez plus de poids dans le vote\", buttons: [] },\n        { text: \"Votre parti est en majorité, ne vous reposez pas sur vos lauriers\", buttons: [] },\n        { text: \"Vous devriez vous méfier de votre voisin\", buttons: [] },\n    ],\n};\nexports.default = JsonData;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./dev/general-data/jsonData.ts\n// module id = 12\n// module chunks = 0"],"sourceRoot":""}